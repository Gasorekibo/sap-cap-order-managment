sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(t,e){"use strict";return t.extend("com.moyo.products.ext.main.Main",{onInit:function(){var t=new e({productsCount:0,totalValue:0,lowStockCount:0});this.getView().setModel(t,"kpi");this._loadKPIData()},_loadKPIData:function(){var t=this.getOwnerComponent().getModel();var e=this.getView().getModel("kpi");t.read("/Products/$count",{success:function(t){e.setProperty("/productsCount",t)}});t.read("/ProductInventoryAnalytics",{success:function(t){var o=0;var s=t.results||[];s.forEach(function(t){o+=parseFloat(t.totalValue)});e.setProperty("/totalValue",o.toFixed(2))}});t.read("/Products",{filters:[new sap.ui.model.Filter("stockQuantity","LT",10)],success:function(t){var o=t.results?t.results.length:0;e.setProperty("/lowStockCount",o)}})},onPress:function(t){var e=t.getSource().getHeader();sap.m.MessageToast.show("Clicked on: "+e)}})});
//# sourceMappingURL=Main.controller.js.map